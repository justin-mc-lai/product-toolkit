# 用户故事地图 (User Story Mapping)

## 1. 用户故事地图概述

### 1.1 什么是用户故事地图？

用户故事地图是一种可视化工具，用于：
- 理解用户全流程
- 规划 MVP（最小可行产品）
- 拆分用户故事
- 规划版本发布

### 1.2 用户故事地图结构

```
用户活动 → 用户任务 → 用户故事
    ↓
  步骤1    步骤1.1   US-001
  步骤1    步骤1.2   US-002
  步骤2    步骤2.1   US-003
  步骤2    步骤2.2   US-004
    ↓
  发布版本  Release 1 → US-001, US-002
            Release 2 → US-003
            Release 3 → US-004
```

---

## 2. 用户故事地图模板

### 2.1 创建用户故事地图

```markdown
# 用户故事地图: {产品名称}

**创建日期**: {日期}
**产品经理**: {姓名}
**目标用户**: {用户群体}

---

## 第一层：用户活动 (User Activities)

| # | 用户活动 | 描述 |
|---|---------|------|
| 1 | 注册/登录 | 首次使用需要完成注册登录 |
| 2 | 浏览商品 | 查找和浏览商品信息 |
| 3 | 购物车管理 | 添加、修改、删除商品 |
| 4 | 下单支付 | 完成订单和支付 |
| 5 | 订单管理 | 查看和管理订单 |

---

## 第二层：用户任务 (User Tasks)

### 活动 1: 注册/登录

| # | 用户任务 | 描述 |
|---|---------|------|
| 1.1 | 手机号注册 | 使用手机号注册账号 |
| 1.2 | 账号登录 | 使用账号密码登录 |
| 1.3 | 第三方登录 | 使用微信/Google登录 |
| 1.4 | 忘记密码 | 通过手机号找回密码 |

### 活动 2: 浏览商品

| # | 用户任务 | 描述 |
|---|---------|------|
| 2.1 | 关键词搜索 | 通过关键词搜索商品 |
| 2.2 | 分类浏览 | 按分类查看商品 |
| 2.3 | 商品详情 | 查看商品详细信息 |
| 2.4 | 商品收藏 | 收藏感兴趣的商品 |

---

## 第三层：用户故事 (User Stories)

### 任务 1.1: 手机号注册

| ID | 用户故事 | 故事点 | 优先级 | Release |
|----|---------|-------|--------|---------|
| US-001 | 作为新用户，我可以使用手机号注册账号，以便使用完整功能 | 3 | P0 | R1 |
| US-002 | 作为新用户，我可以收到验证码，以便完成注册 | 2 | P0 | R1 |
| US-003 | 作为新用户，我可以设置登录密码，以便下次登录 | 2 | P1 | R1 |

### 任务 1.2: 账号登录

| ID | 用户故事 | 故事点 | 优先级 | Release |
|----|---------|-------|--------|---------|
| US-004 | 作为已注册用户，我可以输入账号密码登录 | 3 | P0 | R1 |
| US-005 | 作为已注册用户，我可以保持登录状态 | 1 | P1 | R1 |

### 任务 2.1: 关键词搜索

| ID | 用户故事 | 故事点 | 优先级 | Release |
|----|---------|-------|--------|---------|
| US-006 | 作为用户，我可以通过关键词搜索商品 | 5 | P0 | R1 |
| US-007 | 作为用户，我可以查看搜索历史 | 2 | P2 | R2 |
| US-008 | 作为用户，我可以搜索热门推荐 | 2 | P2 | R2 |

---

## 3. MVP 规划

### 3.1 Release 划分

```markdown
## Release 规划

### Release 1: 最小可用产品 (MVP)

**目标**: 核心购买流程可用

| ID | 用户故事 | 故事点 |
|----|---------|-------|
| US-001 | 手机号注册 | 3 |
| US-002 | 收到验证码 | 2 |
| US-004 | 账号登录 | 3 |
| US-006 | 关键词搜索 | 5 |

**总故事点**: 13 点

### Release 2: 增强功能

**目标**: 完善用户体验

| ID | 用户故事 | 故事点 |
|----|---------|-------|
| US-003 | 设置登录密码 | 2 |
| US-005 | 保持登录 | 1 |
| US-007 | 搜索历史 | 2 |

**总故事点**: 5 点

### Release 3: 高级功能

**目标**: 提升用户粘性

| ID | 用户故事 | 故事点 |
|----|---------|-------|
| US-008 | 热门推荐 | 2 |
| US-009 | 商品收藏 | 3 |

**总故事点**: 5 点
```

---

## 4. 用户徒步 (User Walkthrough)

### 4.1 徒步模板

```markdown
## 用户徒步: {场景名称}

**场景**: {描述}
**用户**: {用户类型}

### 步骤 1: {动作}
- 用户行为: {具体行为}
- 系统响应: {系统反馈}
- 愉悦度: 😊 开心 / 😐 一般 / 😔 失望
- 改进点: {如果有}

### 步骤 2: {动作}
- 用户行为: {具体行为}
- 系统响应: {系统反馈}
- 愉悦度: 😊 开心 / 😐 一般 / 😔 失望
- 改进点: {如果有}

### 痛点总结
1. {痛点1}
2. {痛点2}

### 改进建议
1. {建议1}
2. {建议2}
```

---

## 5. 示例：电商用户故事地图

### 完整示例

```markdown
# 电商平台用户故事地图

---

## 用户活动

| # | 用户活动 |
|---|---------|
| A1 | 账号管理 |
| A2 | 商品浏览 |
| A3 | 购物车 |
| A4 | 下单支付 |
| A5 | 订单售后 |

---

## 用户任务 & 用户故事

### A1: 账号管理

| 任务 | 用户故事 | 点数 | Release |
|------|---------|------|---------|
| T1.1 注册 | US-001 手机号注册 | 3 | R1 |
| T1.1 注册 | US-002 验证码验证 | 2 | R1 |
| T1.2 登录 | US-003 账号密码登录 | 3 | R1 |
| T1.2 登录 | US-004 第三方登录 | 5 | R2 |
| T1.3 个人资料 | US-005 查看个人资料 | 2 | R2 |
| T1.3 个人资料 | US-006 编辑个人资料 | 3 | R2 |

### A2: 商品浏览

| 任务 | 用户故事 | 点数 | Release |
|------|---------|------|---------|
| T2.1 搜索 | US-007 关键词搜索 | 5 | R1 |
| T2.2 分类 | US-008 分类浏览 | 3 | R1 |
| T2.3 详情 | US-009 查看商品详情 | 2 | R1 |
| T2.4 收藏 | US-010 收藏商品 | 3 | R2 |

### A3: 购物车

| 任务 | 用户故事 | 点数 | Release |
|------|---------|------|---------|
| T3.1 加购 | US-011 加入购物车 | 3 | R1 |
| T3.2 修改 | US-012 修改数量 | 2 | R1 |
| T3.3 删除 | US-013 删除商品 | 1 | R1 |

### A4: 下单支付

| 任务 | 用户故事 | 点数 | Release |
|------|---------|------|---------|
| T4.1 确认订单 | US-014 确认订单信息 | 3 | R1 |
| T4.2 选择地址 | US-015 选择收货地址 | 2 | R1 |
| T4.3 支付 | US-016 在线支付 | 5 | R1 |
| T4.4 优惠 | US-017 使用优惠券 | 3 | R2 |

### A5: 订单售后

| 任务 | 用户故事 | 点数 | Release |
|------|---------|------|---------|
| T5.1 查看订单 | US-018 查看订单列表 | 2 | R1 |
| T5.2 订单详情 | US-019 查看订单详情 | 2 | R1 |
| T5.3 取消订单 | US-020 取消订单 | 3 | R2 |
| T5.4 申请售后 | US-021 申请退款 | 5 | R3 |

---

## Release 规划汇总

| Release | 主题 | 故事点数 | 用户故事 |
|---------|------|---------|---------|
| R1 | 核心购买流程 | 31 | US-001 ~ US-019 (部分) |
| R2 | 增强体验 | 15 | US-004 ~ US-017 (部分) |
| R3 | 售后完善 | 8 | US-020 ~ US-021 |

**总故事点**: 54 点

**按 7 点/ Sprint 估算**:
- Sprint 1: 7 点 (R1 部分)
- Sprint 2: 7 点 (R1 部分)
- Sprint 3: 7 点 (R1 部分)
- Sprint 4: 7 点 (R1 部分)
- Sprint 5: 7 点 (R2 部分)
- ...
```

---

## 6. 用户故事地图工作坊

### 6.1 准备清单

```markdown
## 用户故事地图工作坊

### 参与人员
- 产品经理 (主持人)
- 设计师
- 开发代表
- 测试代表
- 业务代表

### 物料准备
- [ ] 白板/大白纸
- [ ] 便利贴 (多种颜色)
- [ ] 马克笔
- [ ] 透明胶 (固定便利贴)
- [ ] 计时器

### 议程
| 时间 | 内容 |
|------|------|
| 0:00-0:15 | 介绍目标和流程 |
| 0:15-0:45 | 创建用户活动 |
| 0:45-1:30 | 拆分用户任务 |
| 1:30-2:15 | 编写用户故事 |
| 2:15-2:45 | 排序和规划Release |
| 2:45-3:00 | 总结和下一步 |
```

---

## 7. 常见问题

### Q: 用户故事地图应该多详细？

**建议**:
- 顶层活动: 5-10 个
- 每个活动的任务: 3-8 个
- 每个任务的用户故事: 2-5 个
- 总用户故事: 20-50 个

### Q: 如何确定 Release 边界？

**原则**:
1. 核心流程必须完整
2. 每个 Release 都能交付价值
3. 故事点控制在 2-4 个 Sprint 内

### Q: 用户故事地图多久更新一次？

**建议**:
- 规划时创建
- 每个 Sprint 回顾时检查
- 需求重大变更时更新
