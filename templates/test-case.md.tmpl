# 测试用例模板

## 基于用户故事的测试用例生成

## UI 可视化测试交付门槛（Web 前端）

当测试对象是可视化 Web UI 时，测试报告必须满足：

1. 使用 `agent-browser` 或 `browser-use` 执行测试。
2. 从登录页开始，测试账号/权限仅可由用户提供。
3. 关键步骤截图并验证数据绑定与页面排版。
4. Console 无未处理错误。
5. 关键接口请求状态为 HTTP 200。
6. AC→TC 覆盖矩阵完整。
7. 任一项不满足则结论为 `Blocked/不可交付`。
8. 凭据必须仅可由用户提供并脱敏记录，禁止在文档中写明明文账号密码。

### 模板结构

```markdown
## {功能模块} 测试用例

### TC-{id}: {测试场景名称}

| 字段 | 内容 |
|------|------|
| 用例编号 | TC-{id} |
| 用例名称 | {测试场景名称} |
| 模块 | {所属模块} |
| 优先级 | P0/P1/P2 |
| 前置条件 | {preconditions} |
| 执行框架 | agent-browser/browser-use |
| 入口URL | {login_url} |
| 测试账号/角色 | {provided_by_user} |
| 测试步骤 | {steps} |
| 预期结果 | {expected_result} |
| 截图证据 | {screenshot_paths} |
| 数据绑定核验 | Pass/Fail |
| 排版核验 | Pass/Fail |
| Console检查 | {error_count=0} |
| API状态检查 | {critical_api_status=200} |
| AC→TC映射 | {AC-ID list} |
| 实际结果 | （测试后填写） |
| 测试人员 | （测试后填写） |
| 测试日期 | （测试后填写） |
| 通过状态 | Pass/Fail/Blocked |

---

### 完整示例

> 说明：以下 TC-002~TC-004 为差异示例，实际执行时必须补全与 TC-001 相同的可视化强制校验字段。

## 用户登录 测试用例

### TC-001: 正常登录

| 字段 | 内容 |
|------|------|
| 用例编号 | TC-001 |
| 用例名称 | 正常登录-输入正确账号密码 |
| 模块 | 账号体系-登录 |
| 优先级 | P0 |
| 前置条件 | 用户已注册，账号正常 |
| 执行框架 | agent-browser |
| 入口URL | https://{env}/login |
| 测试账号/角色 | 仅可由用户提供：{admin_role}/{normal_role}（脱敏） |
| 测试步骤 | 1. 打开登录页<br>2. 输入正确账号<br>3. 输入正确密码<br>4. 点击登录按钮 |
| 预期结果 | 1. 登录成功<br>2. 跳转首页<br>3. 显示用户信息 |
| 截图证据 | login-before.png<br>login-after.png |
| 数据绑定核验 | Pass（用户昵称与头像正确） |
| 排版核验 | Pass（按钮、输入框、导航布局正常） |
| Console检查 | Pass（error=0） |
| API状态检查 | Pass（/api/login=200） |
| AC→TC映射 | AC-LOGIN-001 |
| 实际结果 |  |
| 测试人员 |  |
| 测试日期 |  |
| 通过状态 |  |

---

### TC-002: 账号错误

| 字段 | 内容 |
|------|------|
| 用例编号 | TC-002 |
| 用例名称 | 登录失败-账号不存在 |
| 模块 | 账号体系-登录 |
| 优先级 | P0 |
| 前置条件 | 无 |
| 测试步骤 | 1. 打开登录页<br>2. 输入不存在的账号<br>3. 输入任意密码<br>4. 点击登录按钮 |
| 预期结果 | 1. 登录失败<br>2. 提示"账号不存在"<br>3. 停留在登录页 |
| 可视化强制校验字段 | 同 TC-001 全量填写（执行框架/截图/Console/API/AC→TC） |
| 实际结果 |  |
| 测试人员 |  |
| 测试日期 |  |
| 通过状态 |  |

---

### TC-003: 密码错误

| 字段 | 内容 |
|------|------|
| 用例编号 | TC-003 |
| 用例名称 | 登录失败-密码错误 |
| 模块 | 账号体系-登录 |
| 优先级 | P0 |
| 前置条件 | 用户已注册 |
| 测试步骤 | 1. 打开登录页<br>2. 输入正确账号<br>3. 输入错误密码<br>4. 点击登录按钮 |
| 预期结果 | 1. 登录失败<br>2. 提示"密码错误"<br>3. 密码清空待重新输入 |
| 可视化强制校验字段 | 同 TC-001 全量填写（执行框架/截图/Console/API/AC→TC） |
| 实际结果 |  |
| 测试人员 |  |
| 测试日期 |  |
| 通过状态 |  |

---

### TC-004: 空输入

| 字段 | 内容 |
|------|------|
| 用例编号 | TC-004 |
| 用例名称 | 登录失败-账号密码为空 |
| 模块 | 账号体系-登录 |
| 优先级 | P0 |
| 前置条件 | 无 |
| 测试步骤 | 1. 打开登录页<br>2. 不输入账号<br>3. 不输入密码<br>4. 点击登录按钮 |
| 预期结果 | 1. 登录失败<br>2. 提示"请输入账号"<br>3. 提示"请输入密码" |
| 可视化强制校验字段 | 同 TC-001 全量填写（执行框架/截图/Console/API/AC→TC） |
| 实际结果 |  |
| 测试人员 |  |
| 测试日期 |  |
| 通过状态 |  |

---

## 测试用例统计

| 优先级 | 数量 | 通过 | 失败 | 未测 |
|--------|------|------|------|------|
| P0 | 4 | 0 | 0 | 4 |
| P1 | 0 | 0 | 0 | 0 |
| P2 | 0 | 0 | 0 | 0 |
| **总计** | **4** | **0** | **0** | **4** |

---

## UI 可视化验证汇总（Web 前端）

| 校验项 | 要求 | 结果 |
|--------|------|------|
| 执行框架 | agent-browser/browser-use |  |
| 登录起点 | 从登录页开始 |  |
| 截图核验 | 数据绑定+排版均通过 |  |
| Console | error=0 |  |
| API 状态 | 关键接口 HTTP 200 |  |
| 账号覆盖 | 仅可由用户提供账号覆盖全部角色 |  |

> 若任一项失败或缺失，结论必须标记为 `Blocked`，不可交付。

---

## AC→TC 覆盖矩阵

| AC-ID | 验收标准 | TC-ID | 覆盖状态 |
|------|---------|-------|---------|
| AC-001 | {验收标准描述} | TC-001 | Covered |

## 快速生成脚本

从用户故事验收标准生成测试用例的映射：

| 验收标准类型 | 测试用例类型 |
|-------------|-------------|
| 正向流程 | 功能测试用例 |
| 边界校验 | 边界值测试用例 |
| 错误处理 | 异常场景测试用例 |
| 成功反馈 | UI/提示测试用例 |
| 性能 | 性能测试用例 |
| 权限控制 | 权限测试用例 |
| 撤销/回退 | 逆向流程测试用例 |
```

---

## 测试用例编写规范

### 1. 用例编号规范

```
{模块英文缩写}-{序号}
示例：
- LOGIN-001 (登录模块)
- ORDER-001 (订单模块)
- PAY-001 (支付模块)
```

### 2. 优先级定义

| 优先级 | 定义 | 覆盖率要求 |
|--------|------|-----------|
| P0 | 核心功能，阻断发布 | 100% |
| P1 | 重要功能，影响体验 | 80% |
| P2 | 次要功能，可接受缺陷 | 50% |

### 3. 测试步骤规范

每个步骤应该：
- 简洁明确
- 可执行
- 可验证

### 4. 预期结果规范

- 明确具体
- 可观测
- 可量化
